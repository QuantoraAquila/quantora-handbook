# 🛡 技术部安全规范手册（适用于 GitHub 协作开发）

> 适用范围：本规范适用于本公司所有技术员工，尤其在使用 GitHub 进行协作开发时必须遵守，以保障公司源代码、交易逻辑、客户数据等核心资产的安全性。

---

## ✅ 一、GitHub 使用安全规范

### 1. 仓库权限管理

- 所有公司代码仓库 **默认设置为私有（Private）**
- 所有成员必须开启 **两步验证（2FA）** 才能加入公司组织
- 成员按职能分配权限：
  - `Owner`：仅限老板本人
  - `Maintainer`：高级开发人员
  - `Developer`：普通开发人员
- 离职或外包人员需 **立即移除访问权限**

### 2. 分支保护

- `main` 和 `dev` 分支必须开启：
  - 禁止强制推送（force push）
  - 所有更改通过 Pull Request（PR）合并
  - 至少一位审查人（Reviewer）通过后方可合并
- 所有功能开发需使用 `feature/*` 命名的分支

---

## ✅ 二、敏感信息防泄漏规范

### 1. 严禁提交以下信息到 Git 仓库：

| 类型         | 示例                       |
|--------------|----------------------------|
| API 密钥      | OKX、Binance API Key 等      |
| 数据库连接串   | PostgreSQL URI 等           |
| 私钥文件      | JWT 密钥、SSL 私钥等         |
| 用户隐私数据   | 客户手机号、邮箱、交易记录等  |

### 2. 环境变量配置：

- 所有敏感变量写入 `.env` 文件，或使用 `.env.dev`、`.env.prod`
- 所有环境变量文件必须加入 `.gitignore`
- CI/CD 使用 GitHub Secrets 管理部署时的变量

---

## ✅ 三、本地开发安全要求

- 禁止将本地代码复制到非公司授权设备或个人网盘
- 本地开发机建议开启磁盘加密（如 BitLocker、FileVault）
- 禁止在公共 Wi-Fi 网络下访问公司项目，需通过 VPN 或安全代理连接

---

## ✅ 四、自动化审计与监控（建议使用）

| 工具名称        | 功能描述                          |
|----------------|-----------------------------------|
| Pre-commit     | 提交前自动格式检查、敏感项校验      |
| GitLeaks       | 自动扫描仓库中是否有 Token 泄露     |
| GitGuardian    | GitHub 平台级别安全审计工具         |
| GitHub Actions | 集成自动构建、测试和代码检查         |

---

## ✅ 五、安全意识与培训

- 所有新入职技术人员必须阅读本规范
- 每季度开展一次代码安全检查和团队自检
- 发现异常提交、疑似安全事件，立即报告至技术负责人并记录详情

---

## 📄 附录：Python 项目 `.gitignore` 示例

```gitignore
# 忽略环境变量文件
.env
*.env
*.key
*.pem

# 忽略 Python 缓存文件
__pycache__/
*.pyc

# 忽略开发工具配置文件
.vscode/
.idea/

# 忽略构建和发布目录
dist/
build/
