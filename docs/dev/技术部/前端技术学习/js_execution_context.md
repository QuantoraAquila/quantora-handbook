# JavaScript æ‰§è¡Œä¸Šä¸‹æ–‡ä¸ç¨‹åºæ‰§è¡Œæœºåˆ¶è¯¦è§£

æœ¬æ–‡ä»¶ç³»ç»Ÿæ€§åœ°ä»‹ç» JavaScript ç¨‹åºåœ¨è¿è¡Œå‰åçš„æ‰§è¡Œæœºåˆ¶ï¼ŒåŒ…æ‹¬æ‰§è¡Œä¸Šä¸‹æ–‡ã€è°ƒç”¨æ ˆã€åµŒå¥—å‡½æ•°è°ƒç”¨ã€å˜é‡æå‡ç­‰æ¦‚å¿µï¼Œå¹¶é€šè¿‡å…·ä½“ç¤ºä¾‹ä¸å½¢è±¡ç±»æ¯”åŠ ä»¥è¯´æ˜ã€‚

---

## ğŸ“Œ ä¸€ã€ä»€ä¹ˆæ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆExecution Contextï¼‰ï¼Ÿ

JavaScript åœ¨æ‰§è¡Œä»»ä½•ä»£ç ä¹‹å‰ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªâ€œæ‰§è¡Œä¸Šä¸‹æ–‡â€å¯¹è±¡ï¼Œå®ƒåŒ…å«å½“å‰ä»£ç æ‰§è¡Œæ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ï¼š

- **å˜é‡ç¯å¢ƒï¼ˆVariable Environmentï¼‰**
- **è¯æ³•ç¯å¢ƒï¼ˆLexical Environmentï¼‰**
- **this ç»‘å®šï¼ˆthis Bindingï¼‰**

### æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç±»å‹ï¼š

| ç±»å‹                 | è¯´æ˜                             | åˆ›å»ºæ—¶æœº                |
|----------------------|----------------------------------|-------------------------|
| å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡       | åŒ…å«å…¨å±€ä»£ç å’Œå…¨å±€å¯¹è±¡           | ç¨‹åºå¯åŠ¨æ—¶åªåˆ›å»ºä¸€æ¬¡    |
| å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡       | å‡½æ•°æ‰§è¡Œæ—¶åˆ›å»º                   | æ¯æ¬¡å‡½æ•°è°ƒç”¨éƒ½ä¼šåˆ›å»º    |
| eval æ‰§è¡Œä¸Šä¸‹æ–‡      | æ‰§è¡Œ eval ä»£ç æ—¶åˆ›å»ºï¼ˆä¸æ¨èï¼‰   | è°ƒç”¨ `eval()` æ—¶        |

---

## ğŸ” äºŒã€ç¨‹åºæ˜¯å¦‚ä½•â€œæ‰§è¡Œâ€çš„ï¼Ÿ

JavaScript ç¨‹åºçš„æ‰§è¡Œæ˜¯**åŸºäºå‡½æ•°è°ƒç”¨å±•å¼€çš„**ï¼Œæ¯æ¬¡å‡½æ•°è¢«è°ƒç”¨ï¼Œéƒ½ä¼šï¼š

- åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡
- å‹å…¥â€œæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆâ€ï¼ˆCall Stackï¼‰é¡¶éƒ¨
- æ‰§è¡Œä»£ç ï¼Œæ‰§è¡Œå®Œåå¼¹å‡º

è¿™ç§æ‰§è¡Œæœºåˆ¶åœ¨ç»“æ„ä¸Š**ç±»ä¼¼é€’å½’å±•å¼€**ï¼Œå³ä½¿ä»£ç æ²¡æœ‰æ˜¾å¼é€’å½’ï¼Œè°ƒç”¨é“¾ä¾ç„¶å½¢æˆä¸€ä¸ªæ ˆå¼ç»“æ„ã€‚

---

## ğŸ§  ä¸‰ã€æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼ˆCall Stackï¼‰

JavaScript å¼•æ“é€šè¿‡ä¸€ä¸ª**æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼ˆEC Stackï¼‰**æ¥ç®¡ç†å‡½æ•°è°ƒç”¨è¿‡ç¨‹ã€‚

### ç¤ºä¾‹ï¼š

```js
function f1() {
  f2();
}

function f2() {
  f3();
}

function f3() {
  console.log("Done");
f1();
```
è°ƒç”¨è¿‡ç¨‹ä¸­çš„æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå˜åŒ–ï¼š
```
1. f1 è°ƒç”¨æ—¶ï¼š
   [f1]
   [Global]

2. f2 è°ƒç”¨æ—¶ï¼š
   [f2]
   [f1]
   [Global]

3. f3 è°ƒç”¨æ—¶ï¼š
   [f3]
   [f2]
   [f1]
   [Global]

4. å‡½æ•°é€å±‚è¿”å›ï¼Œæ ˆé€å±‚å¼¹å‡º
```
## ğŸ§ª å››ã€å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸æ˜¯åå¤åˆ›å»ºï¼
1. å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆGlobal Execution Contextï¼‰åªåˆ›å»ºä¸€æ¬¡ï¼Œåœ¨ç¨‹åºæœ€å¼€å§‹è¿è¡Œæ—¶å»ºç«‹ã€‚

2. å‡½æ•°æ¯æ¬¡è°ƒç”¨æ‰ä¼šæ–°å»ºâ€œå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡â€ã€‚

å¦åˆ™ï¼Œæ¯æ¬¡å‡½æ•°è°ƒç”¨éƒ½â€œé‡ç½®å…¨å±€å˜é‡â€ï¼Œç¨‹åºå°†æ— æ³•ç»´æŠ¤çŠ¶æ€ã€‚

## ğŸ“¦ äº”ã€å½¢è±¡æ¯”å–»ï¼šJS ç¨‹åºå°±åƒâ€œå¼€æˆ¿æ ˆâ€
- å…¨å±€ä»£ç ï¼šå¼€äº†ç¬¬ä¸€é—´æˆ¿ï¼ˆå…¨å±€ä¸Šä¸‹æ–‡ï¼‰

- æ¯è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼šå†å¼€ä¸€é—´æˆ¿ï¼ˆå‡½æ•°ä¸Šä¸‹æ–‡ï¼‰

- æ¯ä¸ªæˆ¿é—´æœ‰è‡ªå·±çš„å‚¨ç‰©æŸœï¼ˆå˜é‡è¡¨ï¼‰

- ä½¿ç”¨å˜é‡æ—¶ï¼Œä»å½“å‰æˆ¿é—´æŸ¥ä¸åˆ°ï¼Œå°±å¾€ä¸Šä¸€å±‚æŸ¥ï¼ˆä½œç”¨åŸŸé“¾ï¼‰

## ğŸ” å…­ã€ç¤ºä¾‹ä»£ç  + ä¸Šä¸‹æ–‡åˆ†æ
```
var a = 1;

function outer() {
  var b = 2;

  function inner() {
    var c = 3;
    console.log(a + b + c);
  }

  inner();
}

outer();
```
åˆ›å»ºé˜¶æ®µåˆ†æï¼š
å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆGlobal Execution Contextï¼‰ï¼š
``` 
{
  VariableEnvironment: { a: undefined },
  LexicalEnvironment: { outer: Function },
  thisBinding: window
}
```
outer() æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆFunction Execution Contextï¼‰ï¼š
```
{
  VariableEnvironment: { b: undefined },
  LexicalEnvironment: { inner: Function },
  Outer: Global
}
```
inner() æ‰§è¡Œä¸Šä¸‹æ–‡ï¼š
```
{
  VariableEnvironment: { c: undefined },
  LexicalEnvironment: {},
  Outer: outer()
}
```
ä½œç”¨åŸŸé“¾æŸ¥æ‰¾ï¼š
- æ‰¾ c â†’ å½“å‰ä¸Šä¸‹æ–‡

- æ‰¾ b â†’ outer çš„ä¸Šä¸‹æ–‡

- æ‰¾ a â†’ å…¨å±€ä¸Šä¸‹æ–‡

è¾“å‡ºç»“æœï¼š
```
1 + 2 + 3 = 6
```
## ğŸ§± ä¸ƒã€æ„æˆæ‰§è¡Œä¸Šä¸‹æ–‡çš„ç»“æ„
æ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡éƒ½åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š

- å˜é‡ç¯å¢ƒï¼ˆVEï¼‰ï¼šåŒ…å« var å£°æ˜å’Œå‡½æ•°å£°æ˜

- è¯æ³•ç¯å¢ƒï¼ˆLEï¼‰ï¼šåŒ…å« letã€constã€å‡½æ•°å‚æ•°

- ä½œç”¨åŸŸé“¾ï¼ˆScope Chainï¼‰ï¼šç”±å¤–éƒ¨å¼•ç”¨å½¢æˆ

- this ç»‘å®š

## ğŸš§ å…«ã€å˜é‡æå‡ä¸æš‚æ—¶æ€§æ­»åŒº
- var å’Œ function ä¼šè¢«â€œæå‡â€ï¼Œä½† var åˆå§‹åŒ–ä¸º undefined

- let å’Œ const ä¸ä¼šè¢«æå‡ï¼Œå­˜åœ¨â€œæš‚æ—¶æ€§æ­»åŒºï¼ˆTDZï¼‰â€

``` 
console.log(a); // undefined
var a = 1;

console.log(b); // ReferenceError
let b = 2;
```

# JavaScript æ ¸å¿ƒæ¦‚å¿µæ¢³ç†ï¼šå…¨å±€å¯¹è±¡ã€æ‰§è¡Œä¸Šä¸‹æ–‡å¯¹è±¡ã€ä½œç”¨åŸŸã€ä½œç”¨åŸŸé“¾

---

## 1. å…¨å±€å¯¹è±¡ï¼ˆGlobal Objectï¼‰

- **å®šä¹‰**ï¼šåœ¨ JavaScript è¿è¡Œç¯å¢ƒä¸­ï¼Œæœ€é¡¶å±‚çš„å¯¹è±¡ã€‚
- **ä½œç”¨**ï¼š
  - æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œå…¨å±€å¯¹è±¡æ˜¯ `window`ã€‚
  - Node.js ç¯å¢ƒä¸­ï¼Œå…¨å±€å¯¹è±¡æ˜¯ `global`ã€‚
  - å…¨å±€å˜é‡å’Œå…¨å±€å‡½æ•°å®é™…ä¸Šæ˜¯å…¨å±€å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚
- **ç¤ºä¾‹**ï¼š

```js
var a = 10;
console.log(window.a);  // æµè§ˆå™¨ç¯å¢ƒä¸­è¾“å‡º 10
```
## 2. æ‰§è¡Œä¸Šä¸‹æ–‡å¯¹è±¡ï¼ˆExecution Contextï¼‰
- **å®šä¹‰**ï¼šä»£ç æ‰§è¡Œæ—¶çš„ç¯å¢ƒæŠ½è±¡ï¼ŒåŒ…å«å˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾ã€thisç»‘å®šç­‰ä¿¡æ¯ã€‚

- **åˆ†ç±»**ï¼š

  - å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼šä»£ç é¦–æ¬¡æ‰§è¡Œæ—¶åˆ›å»ºï¼Œä¸”åªæœ‰ä¸€ä¸ªã€‚

  - å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼šå‡½æ•°è°ƒç”¨æ—¶åˆ›å»ºï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šåˆ›å»ºæ–°çš„ã€‚

  - Evalæ‰§è¡Œä¸Šä¸‹æ–‡ï¼šæ‰§è¡Œ eval ä»£ç æ—¶åˆ›å»ºã€‚

- **æ‰§è¡Œä¸Šä¸‹æ–‡åŒ…å«å†…å®¹**:

  - å˜é‡å¯¹è±¡ï¼ˆVariable Objectï¼‰

  - ä½œç”¨åŸŸé“¾ï¼ˆScope Chainï¼‰

  - thisç»‘å®š

## 3. ä½œç”¨åŸŸï¼ˆScopeï¼‰
- **å®šä¹‰**ï¼šå˜é‡å’Œå‡½æ•°çš„å¯è®¿é—®èŒƒå›´ã€‚

- **ç±»å‹**ï¼š

  - å…¨å±€ä½œç”¨åŸŸï¼šç¨‹åºçš„æœ€å¤–å±‚ï¼Œæ‰€æœ‰å…¨å±€å˜é‡å’Œå‡½æ•°æ‰€åœ¨çš„ä½ç½®ã€‚

  - å‡½æ•°ä½œç”¨åŸŸï¼šå‡½æ•°å†…éƒ¨å½¢æˆçš„ä½œç”¨åŸŸã€‚

  - å—çº§ä½œç”¨åŸŸï¼ˆES6 å¼•å…¥ï¼‰ï¼šç”± {} åŒ…è£¹çš„ä»£ç å—å½¢æˆï¼Œé€‚ç”¨äº let å’Œ constã€‚

- **ç‰¹ç‚¹**ï¼š

  - ä½œç”¨åŸŸåœ¨ä»£ç ç¼–å†™æ—¶ç¡®å®šï¼ˆè¯æ³•ä½œç”¨åŸŸï¼‰ã€‚

  - å†³å®šäº†å˜é‡çš„ç”Ÿå‘½å‘¨æœŸå’Œå¯è®¿é—®æ€§ã€‚

## 4. ä½œç”¨åŸŸé“¾ï¼ˆScope Chainï¼‰
- **å®šä¹‰**ï¼šå½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æ‰€æœ‰ä½œç”¨åŸŸå¯¹è±¡çš„é“¾å¼ç»“æ„ã€‚

- **ä½œç”¨**ï¼š

  - å½“è®¿é—®ä¸€ä¸ªå˜é‡æ—¶ï¼Œä¼šä»å½“å‰ä½œç”¨åŸŸå¼€å§‹æŸ¥æ‰¾ï¼Œä¾æ¬¡å‘ä¸ŠæŸ¥æ‰¾çˆ¶çº§ä½œç”¨åŸŸï¼Œç›´åˆ°å…¨å±€ä½œç”¨åŸŸã€‚

  - å¦‚æœæ‰€æœ‰ä½œç”¨åŸŸä¸­éƒ½æ‰¾ä¸åˆ°ï¼Œåˆ™æŠ›å‡º ReferenceErrorã€‚

- **å½¢æˆåŸå› **ï¼š

  - ä½œç”¨åŸŸæ˜¯é™æ€çš„ï¼Œä½†æ‰§è¡Œç¯å¢ƒæ˜¯åŠ¨æ€çš„ï¼Œä½œç”¨åŸŸé“¾ä¿è¯äº†å˜é‡çš„æ­£ç¡®æŸ¥æ‰¾ã€‚

## 5. æ¦‚å¿µä¹‹é—´çš„å…³ç³»æ€»ç»“
| æ¦‚å¿µ      | å«ä¹‰               | å…³ç³»ä¸åŒºåˆ«              |
|---------|------------------|--------------------|
| å…¨å±€å¯¹è±¡    | è¿è¡Œç¯å¢ƒä¸­æœ€é¡¶å±‚çš„å¯¹è±¡      | å…¨å±€å˜é‡æ˜¯å…¨å±€å¯¹è±¡çš„å±æ€§       |
| æ‰§è¡Œä¸Šä¸‹æ–‡å¯¹è±¡ | ä»£ç æ‰§è¡Œæ—¶çš„ç¯å¢ƒå°è£…       | åŒ…å«å˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾ã€thisç»‘å®š |
| ä½œç”¨åŸŸ     | å˜é‡å’Œå‡½æ•°çš„å¯è®¿é—®èŒƒå›´      | å†³å®šå˜é‡åœ¨å“ªäº›ä»£ç å—é‡Œå¯è®¿é—®     |
| ä½œç”¨åŸŸé“¾    | å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡å¯è®¿é—®çš„ä½œç”¨åŸŸé“¾æ¡ | å˜é‡æŸ¥æ‰¾æ—¶ä¾èµ–ä½œç”¨åŸŸé“¾å±‚å±‚æŸ¥æ‰¾å˜é‡  |

## 6. ç¤ºä¾‹è¯´æ˜
```
var globalVar = 'å…¨å±€å˜é‡';

function outer() {
  var outerVar = 'å¤–å±‚å˜é‡';

  function inner() {
    var innerVar = 'å†…å±‚å˜é‡';
    console.log(globalVar); // æŸ¥æ‰¾å…¨å±€ä½œç”¨åŸŸï¼Œè¾“å‡º 'å…¨å±€å˜é‡'
    console.log(outerVar);  // æŸ¥æ‰¾å¤–å±‚å‡½æ•°ä½œç”¨åŸŸï¼Œè¾“å‡º 'å¤–å±‚å˜é‡'
    console.log(innerVar);  // å½“å‰å‡½æ•°ä½œç”¨åŸŸï¼Œè¾“å‡º 'å†…å±‚å˜é‡'
  }

  inner();
}

outer();
```
- å˜é‡æŸ¥æ‰¾è¿‡ç¨‹ï¼šinnerVar â†’ outerVar â†’ globalVar

- ä½œç”¨åŸŸé“¾å°±æ˜¯ inner â†’ outer â†’ å…¨å±€

# JS å’Œ Python çš„æ‰§è¡Œæ¨¡å‹å¯¹æ¯”

---

## ğŸ§  æ€»ä½“ç»“è®ºï¼šç±»ä¼¼çš„æ¦‚å¿µï¼Œä¸åŒçš„å®ç°
| æœºåˆ¶/æœ¯è¯­           | JavaScript                | Python                  | ç›¸ä¼¼æ€§è¯„ä¼°    |
| --------------- | ------------------------- | ----------------------- | -------- |
| **æ‰§è¡Œä¸Šä¸‹æ–‡**       | æ¯æ¬¡æ‰§è¡Œï¼ˆå…¨å±€ / å‡½æ•°ï¼‰éƒ½ä¼šåˆ›å»º         | æ¯ä¸ªå‡½æ•°è°ƒç”¨æ—¶åˆ›å»ºè°ƒç”¨å¸§ï¼ˆframeï¼‰     | âœ… ç±»ä¼¼     |
| **è°ƒç”¨æ ˆ**         | Call Stack                | è°ƒç”¨å¸§æ ˆï¼ˆCall Stackï¼‰        | âœ… ç±»ä¼¼     |
| **ä½œç”¨åŸŸé“¾**        | è¯æ³•ä½œç”¨åŸŸ + ä½œç”¨åŸŸé“¾å‘ä¸ŠæŸ¥æ‰¾å˜é‡        | è¯æ³•ä½œç”¨åŸŸ + é—­åŒ…è‡ªç”±å˜é‡æŸ¥æ‰¾ï¼ˆLEGBï¼‰  | âœ… ç±»ä¼¼     |
| **å…¨å±€å¯¹è±¡**        | æµè§ˆå™¨ï¼šwindowï¼ŒJS è¿è¡Œç¯å¢ƒç›¸å…³      | Pythonï¼š`__main__` æ¨¡å—ä½œç”¨åŸŸ | âš ï¸ ä¸å®Œå…¨ç›¸åŒ |
| **this ç»‘å®šæœºåˆ¶**   | åŠ¨æ€ç»‘å®šï¼Œä¾èµ–è°ƒç”¨æ–¹å¼               | `self` æ˜ç¡®ä¼ å…¥ï¼Œä¸ä¾èµ–è°ƒç”¨è€…      | âŒ å®Œå…¨ä¸åŒ   |
| **å˜é‡å£°æ˜æ–¹å¼**      | `var`/`let`/`const`ï¼Œæœ‰æå‡æœºåˆ¶ | æ‰€æœ‰å˜é‡éƒ½æœ‰ä½œç”¨åŸŸé™åˆ¶ï¼Œæ— æå‡         | âŒ ä¸åŒ     |
| **é—­åŒ…ï¼ˆclosureï¼‰** | æ”¯æŒé—­åŒ…                      | æ”¯æŒé—­åŒ…ï¼Œå†…éƒ¨è‡ªç”±å˜é‡é€šè¿‡ cell å­˜å‚¨   | âœ… ç›¸ä¼¼     |

## ğŸ” ä¸€ã€å‡½æ•°æ‰§è¡Œä¸ä¸Šä¸‹æ–‡æœºåˆ¶
### JavaScriptï¼š
- æ¯æ¬¡å‡½æ•°è°ƒç”¨ â†’ åˆ›å»ºä¸€ä¸ª Execution Context

- å‹å…¥ Call Stack

- åŒ…å«ï¼šå˜é‡ç¯å¢ƒã€è¯æ³•ç¯å¢ƒã€thisã€ä½œç”¨åŸŸé“¾

### Pythonï¼š
- æ¯æ¬¡å‡½æ•°è°ƒç”¨ â†’ åˆ›å»ºä¸€ä¸ª Frameï¼ˆå¸§ï¼‰å¯¹è±¡

- å‹å…¥ è°ƒç”¨æ ˆï¼ˆCall Stackï¼‰

- åŒ…å«ï¼šå±€éƒ¨å˜é‡å­—å…¸ã€æœ¬åœ°å‘½åç©ºé—´ã€è‡ªç”±å˜é‡ã€é—­åŒ…

âœ… æ‰€ä»¥è¿™éƒ¨åˆ†**æ˜¯ç±»ä¼¼çš„æœºåˆ¶ï¼Œåªæ˜¯ç»“æ„ä¸å®Œå…¨ä¸€æ ·**ã€‚

## ğŸ“¦ äºŒã€ä½œç”¨åŸŸé“¾æœºåˆ¶å¯¹æ¯”
### JavaScriptï¼šä½¿ç”¨â€œè¯æ³•ä½œç”¨åŸŸé“¾â€
```
js

function outer() {
  let a = 10;
  function inner() {
    console.log(a); // æ‰¾ä¸åˆ° a å°±å¾€ä¸Šæ‰¾
  }
  inner();
}
```
### Pythonï¼šä½¿ç”¨â€œLEGB æŸ¥æ‰¾é¡ºåºâ€
```
python

def outer():
    a = 10
    def inner():
        print(a)  # æ‰¾ä¸åˆ° aï¼Œå°± LEGB æŸ¥æ‰¾
    inner()

# L -> Local
# E -> Enclosing
# G -> Global
# B -> Built-in
```
âœ… éå¸¸ç›¸ä¼¼ï¼éƒ½é‡‡ç”¨å‘å¤–æŸ¥æ‰¾å˜é‡çš„æ¨¡å‹ã€‚

## â— ä¸‰ã€this vs self â€”â€” æœ€å¤§å·®å¼‚
| è¯­è¨€         | ç‰¹æ€§                            |
| ---------- | ----------------------------- |
| JavaScript | `this` æ˜¯è‡ªåŠ¨æ³¨å…¥çš„å˜é‡ï¼Œè°ƒç”¨æ—¶åŠ¨æ€ç»‘å®š       |
| Python     | `self` æ˜¯å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ**æ˜ç¡®ä¼ å…¥çš„å¯¹è±¡å¼•ç”¨** |


ğŸ” ç¤ºä¾‹ï¼š
```
js

const obj = {
  name: "JS",
  say() {
    console.log(this.name);
  }
};
obj.say(); // "JS"
```
```
python

class MyObj:
    def __init__(self, name):
        self.name = name

    def say(self):
        print(self.name)

obj = MyObj("Python")
obj.say()  # "Python"
```
ğŸ“Œ ç»“è®ºï¼š

- Python çš„ self ä¸æâ€œé­”æ³•â€ï¼Œç›´æ¥ä¼ ï¼›

- JS çš„ this æ˜¯é»‘é­”æ³•ï¼Œå¯èƒ½å˜ã€å®¹æ˜“é”™ã€‚

## ğŸ” å››ã€é—­åŒ…æ”¯æŒå¯¹æ¯”
éƒ½æ”¯æŒé—­åŒ…ï¼Œä½†ç»†èŠ‚å·®å¼‚ï¼š
### JavaScriptï¼š
```
js

function outer() {
  let a = 10;
  return function() {
    console.log(a);
  };
}
const fn = outer();
fn(); // 10
```
### Pythonï¼š
```
python

def outer():
    a = 10
    def inner():
        print(a)
    return inner

fn = outer()
fn()  # 10
```
âœ… é—­åŒ…ç»“æ„ç›¸ä¼¼ï¼Œä½† Python å†…éƒ¨ä¼šç”¨ cell å¯¹è±¡ï¼ˆé—­åŒ…å¯¹è±¡ï¼‰ æ¥ä¿å­˜å¤–éƒ¨å˜é‡ã€‚

## âœ… æ€»ç»“å›¾ç¤ºå¯¹æ¯”ï¼ˆç»“æ„ä¸Šï¼‰
```
scss

    JS è°ƒç”¨æ ˆï¼š                         Python è°ƒç”¨æ ˆï¼š
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  inner() Context â”‚               â”‚  inner() Frame   â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚  outer() Context â”‚               â”‚  outer() Frame   â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚  Global Context  â”‚               â”‚  __main__ Frame  â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
# ğŸ“˜ æ€»ç»“ï¼šä¸€å¥è¯å¯¹æ¯”ç»“è®º
| ç‰¹æ€§           | JavaScript                   | Python                  |
| ------------ | ---------------------------- | ----------------------- |
| å…¨å±€å¯¹è±¡         | `window`ï¼ˆæµè§ˆå™¨ï¼‰ï¼Œ`global`ï¼ˆNodeï¼‰ | æ²¡æœ‰å…¨å±€å¯¹è±¡ï¼Œ`__main__` æ¨¡å—ä½œç”¨åŸŸ |
| ä½œç”¨åŸŸæ¨¡å‹        | è¯æ³•ä½œç”¨åŸŸ + ä½œç”¨åŸŸé“¾                 | LEGB æ¨¡å‹                 |
| this vs self | `this` æ˜¯ä¸Šä¸‹æ–‡ç»‘å®šçš„               | `self` æ˜¯æ˜¾å¼ä¼ å…¥            |
| é—­åŒ…           | æ”¯æŒï¼Œå†…éƒ¨è¯æ³•ä½œç”¨åŸŸé“¾ç»´æŠ¤                | æ”¯æŒï¼Œç”¨ cell å¯¹è±¡è®°å½•å¤–éƒ¨å˜é‡      |
| è°ƒç”¨æ ˆç»“æ„        | æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ                       | è°ƒç”¨å¸§æ ˆï¼ˆframe stackï¼‰       |
